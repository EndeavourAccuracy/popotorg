<?php
/* popot.org v4.0 (November 2022)
 * Copyright (C) 2017-2022 Norbert de Jonge <nlmdejonge@gmail.com>
 *
 * This program is free software: you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation, either version 3 of the License, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
 * more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * this program. If not, see [ www.gnu.org/licenses/ ].
 */

include_once (dirname (__FILE__) . '/popot_def.php');

/*****************************************************************************/
function Video ()
/*****************************************************************************/
{
print ('
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="//www.youtube.com/embed/dtZiAb180ds"></iframe>
</div>
<p>Download: <a href="documentation/videos/PoPModding/PoPModding.webm">PoPModding.webm</a> (58MB)</p>
<h2>2021 Update</h2>
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="//www.youtube.com/embed/f7PG_6K9cFQ"></iframe>
</div>
<p>Download: <a href="documentation/videos/PoPModding/PoPModding2021Update.webm">PoPModding2021Update.webm</a> (78MB)</p>
');
}
/*****************************************************************************/
function PoP1SpecialEvents ()
/*****************************************************************************/
{
print ('
<p>(A document like this is also available for <a href="documentation.php?doc=PoP2SpecialEvents">PoP2</a>.)</p>
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2018-12-27_PoP1_Special_Events.pdf">2018-12-27_PoP1_Special_Events.pdf</a> (371KB)
<br>
Download ODT: <a href="documentation/documents/2018-12-27_PoP1_Special_Events.odt">2018-12-27_PoP1_Special_Events.odt</a> (217KB)
<br>
The latest version was released on December 27th, 2018. Credits are inside the file.
</p>
<hr class="basic">
<p>
Old versions:
<br>
- 2018-12-23: <a href="documentation/documents/2018-12-23_PoP1_Special_Events.pdf">pdf</a> (369KB), <a href="documentation/documents/2018-12-23_PoP1_Special_Events.odt">odt</a> (213KB)
<br>
- 2015-08-07: <a href="documentation/documents/2015-08-07_PoP1_Special_Events.pdf">pdf</a> (633KB), <a href="documentation/documents/2015-08-07_PoP1_Special_Events.odt">odt</a> (222KB)
<br>
- 2013-08-29: <a href="documentation/documents/2013-08-29_PoP1_Special_Events.pdf">pdf</a> (631KB), <a href="documentation/documents/2013-08-29_PoP1_Special_Events.odt">odt</a> (206KB)
<br>
- 2012-07-14: <a href="documentation/documents/2012-07-14_PoP1_Special_Events.pdf">pdf</a> (587KB), <a href="documentation/documents/2012-07-14_PoP1_Special_Events.odt">odt</a> (206KB)
<br>
- 2012-07-12: <a href="documentation/documents/2012-07-12_PoP1_Special_Events.pdf">pdf</a> (488KB), <a href="documentation/documents/2012-07-12_PoP1_Special_Events.odt">odt</a> (131KB).
</p>
');
}
/*****************************************************************************/
function PoP2SpecialEvents ()
/*****************************************************************************/
{
print ('
<p>(A document like this is also available for <a href="documentation.php?doc=PoP1SpecialEvents">PoP1</a>.)</p>
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2014-07-10_PoP2_Special_Events.pdf">2014-07-10_PoP2_Special_Events.pdf</a> (419KB)
<br>
Download ODT: <a href="documentation/documents/2014-07-10_PoP2_Special_Events.odt">2014-07-10_PoP2_Special_Events.odt</a> (51KB)
<br>
The latest version was released on July 10th, 2014. Credits are inside the file.
</p>
<p>Old version (2014-06-22): <a href="documentation/documents/2014-06-22_PoP2_Special_Events.pdf">pdf</a> (388KB), <a href="documentation/documents/2014-06-22_PoP2_Special_Events.odt">odt</a> (42KB).</p>
');
}
/*****************************************************************************/
function PoP1SSpecialEvents ()
/*****************************************************************************/
{
print ('
<p>(A document like this is also available for <a href="documentation.php?doc=PoP1SpecialEvents">PoP1 for DOS</a> and <a href="documentation.php?doc=PoP2SpecialEvents">PoP2 for DOS</a>.)</p>
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2015-12-29_PoP1S_Special_Events.pdf">2015-12-29_PoP1S_Special_Events.pdf</a> (1.1MB)
<br>
Download ODT: <a href="documentation/documents/2015-12-29_PoP1S_Special_Events.odt">2015-12-29_PoP1S_Special_Events.odt</a> (728KB)
<br>
It was released on December 29th, 2015. Credits are inside the file.
</p>
');
}
/*****************************************************************************/
function Wine_vd ()
/*****************************************************************************/
{
print ('
<p><img class="img-responsive" src="documentation/images/Wine_virtual_desktop.png" alt="winecfg"></p>
');
}
/*****************************************************************************/
function FormatSpecifications ()
/*****************************************************************************/
{
print ('
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/old-licenses/fdl-1.2.html">GFDL 1.2</a> (or later) license.
<br>
Download: <a href="documentation/documents/FormatSpecifications_05Jan2008.pdf">FormatSpecifications_05Jan2008.pdf</a> (217KB)
<br>
It was released on January 5th, 2008. Credits are inside the file.
</p>
<p>
Some additional information can be found in this document:
<br>
<a href="documentation/documents/Additions_to_Room_Mapping.pdf">Additions_to_Room_Mapping.pdf</a> (392KB)
</p>
');
}
/*****************************************************************************/
function ChangingPoP1Images ()
/*****************************************************************************/
{
print ('
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2011-05-22_Changing_PoP1_Images.pdf">2011-05-22_Changing_PoP1_Images.pdf</a> (975KB)
<br>
Download ODT: <a href="documentation/documents/2011-05-22_Changing_PoP1_Images.odt">2011-05-22_Changing_PoP1_Images.odt</a> (673KB)
<br>
It was released on May 22nd, 2011. Credits are inside the file.
</p>
<p>
Note: the home directory (which contains the .gimp-n.n/palettes/*.gpl files) differs per OS.
<br>
Wikipedia has more information about <a target="_blank" href="https://en.wikipedia.org/wiki/Home_directory#Default_home_directory_per_operating_system">home directories</a>.
</p>
<hr class="basic">
<p>
<span style="color:#f00;">Too difficult?</span> An alternative is to use <a href="get_the_games.php?game=SDLPoP">SDLPoP</a>, which has all images in its data/ directory.
<br>
This allows you to edit images without having to use PR or gpl2jascpal.
</p>
');
}
/*****************************************************************************/
function OldDocuments ()
/*****************************************************************************/
{
print ('
<p>Two documents with technical information about <i>Prince of Persia</i>, both written by Jordan Mechner.</p>
<p>PoP1 Technical Information: <a href="documentation/documents/1989-10-12_PoP1_Technical_Information.pdf">1989-10-12_PoP1_Technical_Information.pdf</a> (405KB)
<p>PoP2 Design Bible: <a href="documentation/documents/1991-08-08_PoP2_Design_Bible.pdf">1991-08-08_PoP2_Design_Bible.pdf</a> (19MB)</p>
');
}
/*****************************************************************************/
function POPKod ()
/*****************************************************************************/
{
print ('
<p>An old Hungarian document about LEVELS.DAT.</p>
<p>
Download: <a href="documentation/documents/popdoc.doc">popdoc.doc</a> (26KB)
<br>
It was released on December 13th, 2000.
<br>
By: Morpet (M&oacute;ricz P&eacute;ter) and Zambizi (Istv&aacute;n Pi T&oacute;th)
</p>
');
}
/*****************************************************************************/
function OverflowBug ()
/*****************************************************************************/
{
print ('
<p>
This image shows what is causing the prince to \'teleport\' between certain rooms.
<br>
More information can be found in <a target="_blank" href="https://forum.princed.org/viewtopic.php?f=68&amp;t=2719">this forum thread</a>.
</p>
<p><img class="img-responsive" src="documentation/images/Integer_overflow_bug.png" alt="overflow bug"></p>
');
}
/*****************************************************************************/
function RoT_Visual_Tricks ()
/*****************************************************************************/
{
print ('
<p>This collage explains the visual tricks of <a href="custom_levels.php?mod=0000010"><span class="italic">Repetition of Time</span></a>.</p>
<p><a target="_blank" href="documentation/images/RoT_big_visual_tricks.png"><img class="image_link" src="documentation/images/RoT_small_visual_tricks.png" alt="RoT visual tricks"></a></p>
<p>See also the even more thorough analysis by DavidXNewton:</p>
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="//www.youtube.com/embed/XIeN23q9ktY"></iframe>
</div>
');
}
/*****************************************************************************/
function PoP1_DAT_Differences ()
/*****************************************************************************/
{
print ('
<p>(A document like this is also available for <a href="documentation.php?doc=PoP2_DAT_Differences">PoP2</a>.)</p>
<p>A description of the differences between the DAT files of versions 1.0, 1.3 and 1.4.</p>
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2012-08-26_PoP1_DAT_Differences.pdf">2012-08-26_PoP1_DAT_Differences.pdf</a> (394KB)
<br>
Download ODT: <a href="documentation/documents/2012-08-26_PoP1_DAT_Differences.odt">2012-08-26_PoP1_DAT_Differences.odt</a> (63KB)
<br>
It was released on August 26th, 2012. Credits are inside the file.
</p>
');
}
/*****************************************************************************/
function PoP2_DAT_Differences ()
/*****************************************************************************/
{
print ('
<p>(A document like this is also available for <a href="documentation.php?doc=PoP1_DAT_Differences">PoP1</a>.)</p>
<p>A description of the differences between the DAT files of versions IR, 1.0 and 1.1.</p>
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2014-06-07_PoP2_DAT_Differences.pdf">2014-06-07_PoP2_DAT_Differences.pdf</a> (1.2MB)
<br>
Download ODT: <a href="documentation/documents/2014-06-07_PoP2_DAT_Differences.odt">2014-06-07_PoP2_DAT_Differences.odt</a> (1013KB)
<br>
It was released on June 7th, 2014. Credits are inside the file.
</p>
');
}
/*****************************************************************************/
function PoP1_for_SNES_Regional_Differences ()
/*****************************************************************************/
{
print ('
<p>A description of the regional differences between PoP1 for SNES releases.</p>
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2015-09-25_PoP1_for_SNES_Regional_Differences.pdf">2015-09-25_PoP1_for_SNES_Regional_Differences.pdf</a> (466KB)
<br>
Download ODT: <a href="documentation/documents/2015-09-25_PoP1_for_SNES_Regional_Differences.odt">2015-09-25_PoP1_for_SNES_Regional_Differences.odt</a> (152KB)
<br>
It was released on September 25th, 2015. Credits are inside the file.
</p>
');
}
/*****************************************************************************/
function TrickRadio ($sField, $iDefault)
/*****************************************************************************/
{
	print ('<span style="display:block; padding-bottom:10px;">');

	print ('<span style="display:inline-block; width:80px;">');
	print (ucfirst ($sField) . ':');
	print ('</span>');

	print ('<span style="display:inline-block; width:80px;">');
	print ('<input type="radio" name="' . $sField . '" value="2"');
	if ($iDefault == 2) { print (' checked'); }
	print ('> any');
	print ('</span>');

	print ('<span style="display:inline-block; width:80px;">');
	print ('<input type="radio" name="' . $sField . '" value="1"');
	if ($iDefault == 1) { print (' checked'); }
	print ('> yes');
	print ('</span>');

	print ('<span style="display:inline-block; width:80px;">');
	print ('<input type="radio" name="' . $sField . '" value="0"');
	if ($iDefault == 0) { print (' checked'); }
	print ('> no');
	print ('</span>');

	print ('</span>');
}
/*****************************************************************************/
function Tricks ($sPage)
/*****************************************************************************/
{
	$sPage1Active = '<span style="font-weight:bold;">1 - 40</span>';
	$sPage2Active = '<span style="font-weight:bold;">41 - 80</span>';
	$sPage3Active = '<span style="font-weight:bold;">81 - 120</span>';
	$sPage4Active = '<span style="font-weight:bold;">121 - 160</span>';
	$sPage5Active = '<span style="font-weight:bold;">161 - 169</span>';
	$sSearchActive = '<span style="font-weight:bold;">Search</span>';
	$sPollActive = '<span style="font-weight:bold;">Poll</span>';
	$sPage1Link = '<a href="documentation.php?doc=Tricks"' .
		' style="text-decoration:underline;">1 - 40</a>';
	$sPage2Link = '<a href="documentation.php?doc=TricksPage2"' .
		' style="text-decoration:underline;">41 - 80</a>';
	$sPage3Link = '<a href="documentation.php?doc=TricksPage3"' .
		' style="text-decoration:underline;">81 - 120</a>';
	$sPage4Link = '<a href="documentation.php?doc=TricksPage4"' .
		' style="text-decoration:underline;">121 - 160</a>';
	$sPage5Link = '<a href="documentation.php?doc=TricksPage5"' .
		' style="text-decoration:underline;">161 - 169</a>';
	$sSearchLink = '<a href="documentation.php?doc=TricksSearch"' .
		' style="text-decoration:underline;">Search</a>';
	$sPollLink = '<a href="documentation.php?doc=TricksPoll"' .
		' style="text-decoration:underline;">Poll</a>';

	switch ($sPage)
	{
		case 'Tricks':
			$iStart = 1;
			$iEnd = 40;
			$sHeaderText = '[ ' . $sPage1Active . ' | ' . $sPage2Link . ' | ' .
				$sPage3Link . ' | ' . $sPage4Link . ' | ' . $sPage5Link . ' | ' .
				$sSearchLink . ' | ' . $sPollLink . ' ]';
			break;
		case 'TricksPage2':
			$iStart = 41;
			$iEnd = 80;
			$sHeaderText = '[ ' . $sPage1Link . ' | ' . $sPage2Active . ' | ' .
				$sPage3Link . ' | ' . $sPage4Link . ' | ' . $sPage5Link . ' | ' .
				$sSearchLink . ' | ' . $sPollLink . ' ]';
			break;
		case 'TricksPage3':
			$iStart = 81;
			$iEnd = 120;
			$sHeaderText = '[ ' . $sPage1Link . ' | ' . $sPage2Link . ' | ' .
				$sPage3Active . ' | ' . $sPage4Link . ' | ' . $sPage5Link . ' | ' .
				$sSearchLink . ' | ' . $sPollLink . ' ]';
			break;
		case 'TricksPage4':
			$iStart = 121;
			$iEnd = 160;
			$sHeaderText = '[ ' . $sPage1Link . ' | ' . $sPage2Link . ' | ' .
				$sPage3Link . ' | ' . $sPage4Active . ' | ' . $sPage5Link . ' | ' .
				$sSearchLink . ' | ' . $sPollLink . ' ]';
			break;
		case 'TricksPage5':
			$iStart = 161;
			$iEnd = 169;
			$sHeaderText = '[ ' . $sPage1Link . ' | ' . $sPage2Link . ' | ' .
				$sPage3Link . ' | ' . $sPage4Link . ' | ' . $sPage5Active . ' | ' .
				$sSearchLink . ' | ' . $sPollLink . ' ]';
			break;
		case 'TricksSearch':
			$sHeaderText = '[ ' . $sPage1Link . ' | ' . $sPage2Link . ' | ' .
				$sPage3Link . ' | ' . $sPage4Link . ' | ' . $sPage5Link . ' | ' .
				$sSearchActive . ' | ' . $sPollLink . ' ]';
			break;
		case 'TricksPoll':
			$sHeaderText = '[ ' . $sPage1Link . ' | ' . $sPage2Link . ' | ' .
				$sPage3Link . ' | ' . $sPage4Link . ' | ' . $sPage5Link . ' | ' .
				$sSearchLink . ' | ' . $sPollActive . ' ]';
			break;
	}

	print ('<p style="text-align:center;">' . $sHeaderText . '</p>');

	if ((strcmp ($sPage, 'TricksSearch') != 0) &&
		(strcmp ($sPage, 'TricksPoll') != 0))
	{
	print ('<ul id="tricks">');

for ($iTricks = $iStart; $iTricks <= $iEnd; $iTricks++)
{
	$iTrick = str_pad ($iTricks, 3, '0', STR_PAD_LEFT);
print ('
<li id="' . $iTricks . '">
<div class="small" style="width:100%; height:auto; text-align:center; background-color:#fee99e;">
<video src="documentation/videos/trick_00' . $iTrick . '.ogv" poster="documentation/videos/trick_00' . $iTrick . '.png" width="320" height="200" controls preload="none" style="padding-top:10px;"></video>
<br>
<span style="display:block; padding-bottom:20px;">
');
switch ($iTrick)
{
	case 1: print ('Stand next to the gate. Bump into it. Turn left. Hold down right for a short while, then press left.'); break;
	case 2: print ('Similar to 1. Makes guards move forward.'); break;
	case 4: print ('Guards can be used to make spikes harmless.'); break;
	case 5: print ('If you duck before you press Shift, you will take the item. (See also 45.)'); break;
	case 7: print ('Similar to 37 and 96.'); break;
	case 13: print ('Similar to 36, 85 and 86.'); break;
	case 14: print ('Only works if the prince has no sword.'); break;
	case 18: print ('Similar to 34 and 126.'); break;
	case 20: print ('Similar to 38.'); break;
	case 21: print ('Chompers do not activate if you grab a tile in the row above them.'); break;
	case 22: print ('One of the most difficult tricks to pull off. It can be used in the first level of the original PoP1.'); break;
	case 24: print ('Two bugs that allow you to pass through objects.'); break;
	case 25: print ('See the explanation <a target="_blank" href="documentation/images/Loose_tile_trick_big.png">here</a>.'); break;
	case 31: print ('Guards can be used as deadweight on drop and raise tiles, to respectively disable drop tiles and keep gates open. Also works by merging with the shadow on a button.'); break;
	case 32: print ('Only works if the prince has no sword.'); break;
	case 34: print ('Similar to 18 and 126.'); break;
	case 35: print ('This only works if the gate is exactly on the fourth tile from the right.'); break;
	case 36: print ('Similar to 13, 85 and 86.'); break;
	case 37: print ('Similar to 7. The trick can be expanded to subsequently go through the lower-floor wall, as demonstrated <a href="https://forum.princed.org/viewtopic.php?p=32831#p32831">here</a>.'); break;
	case 38: print ('Similar to 20.'); break;
	case 39: print ('Your starting position matters, so you may need to put away your sword once. Back up into the gate. Then wait to get hit.<br>See also 158, and <a href="https://www.youtube.com/watch?v=zdwVtp1nRIA&t=1426s">this</a>.'); break;
	case 40: print ('Sometimes you need to make sure a loose tile doesn\'t fall down.'); break;
	case 41: print ('Similar to 24.'); break;
	case 42: print ('Known as the "Hard Jump".'); break;
	case 45: print ('More difficult variants of 5.'); break;
	case 48: print ('Similar to 7, but with help from a closing gate.'); break;
	case 50: print ('Similar to 2, but easier. Only works if the guard is to the left of the prince.'); break;
	case 52: print ('Sometimes a falling guard needs to survive.'); break;
	case 55: print ('This is only possible if the guard cannot move further to the right (or he would die).'); break;
	case 58: print ('Only works in level 1; you press Ctrl+a (restart level) while also holding down Shift.'); break;
	case 61: print ('Two variations shown. The first only works if a wall is available. See also 167.'); break;
	case 65: print ('Similar to 162.'); break;
	case 68: print ('Press up (to jump), then immediately press left.'); break;
	case 69: print ('A regular jump isn\'t enough, so the prince uses the loose tile.'); break;
	case 70: print ('When going back: bump into the gate, turn left, run right.'); break;
	case 72: print ('Part of this is as trick 1.'); break;
	case 74: print ('Similar to trick 28.'); break;
	case 79: print ('Only works when moving up two floors. Similar to 68.'); break;
	case 82: print ('After pushing left, hold down right.'); break;
	case 83: print ('Only works with the caped prince.'); break;
	case 84: print ('The first part is as trick 13.'); break;
	case 85: print ('Similar to 13, 36 and 86.'); break;
	case 86: print ('Similar to 13, 36 and 85.'); break;
	case 87: print ('Similar to 125.'); break;
	case 88: print ('If entering a certain room (from above) loads the next level, like from 12a to 12b, suicide can be a solution.'); break;
	case 89: print ('The guard moves forward only if there is just one missing tile between him and the prince.'); break;
	case 90: print ('You need to turn around quickly enough.'); break;
	case 93: print ('After sliding, let go of the left arrow key, wait, and then press it again. Similar to 155.'); break;
	case 94: print ('After passing the guard to the right, immediately move left and hit.'); break;
	case 95: print ('This also works to the left. The amount you run before turning around matters.'); break;
	case 96: print ('Similar to 7.'); break;
	case 100: print ('Only works with certain objects to the right. Make sure to press down at the end of the maneuver.'); break;
	case 101: print ('Two very similar tricks in a row.'); break;
	case 103: print ('Two tricks with closed chompers. Second needs triggering of any tile enabled.'); break;
	case 104: print ('Also works with the floor+tapestry combo.'); break;
	case 108: print ('Part of this is as trick 6.'); break;
	case 110: print ('Also works with a single jump upward from the left edge.'); break;
	case 112: print ('First, enter the shadow room (level 12a, room 15). Then, stay inside the 3 right columns (of whatever room you want!). Then if you die while bumping into something (wall, closed gate, gate top, ...) you will auto-resurrect.'); break;
	case 113: print ('Combination of 20 and 82. After pushing left, hold down right.'); break;
	case 114: print ('Requires precision for various distances.'); break;
	case 120: print ('Same movement as 1. Will not work with a gate. No rooms should be right and under.'); break;
	case 122: print ('Two very similar tricks in a row.'); break;
	case 125: print ('Similar to 87.'); break;
	case 126: print ('Similar to 18 and 34.'); break;
	case 127: print ('A loose tile must be used.'); break;
	case 128: print ('Usable in level 7 of the original game, by simply bumping into the wall in room 24, and then making the running jump.'); break;
	case 129: print ('The <a href="documentation.php?doc=OverflowBug">overflow bug</a>.'); break;
	case 131: print ('Two tricks with an open gate next to a wall.'); break;
	case 132: print ('Once the level exit door is open, certain other CLOSED exits also become accessible: in the starting room level exits on the far left only (from the room to the left); in other rooms all exits.'); break;
	case 133: print ('Duplicating a single guard.'); break;
	case 135: print ('Outcome depends on what is in the room to the right. A wall there can stop the prince.'); break;
	case 136: print ('SNES only.'); break;
	case 139: print ('See also 141, 142.'); break;
	case 140: print ('No damage from loose floors near room edges. See also trick 9.'); break;
	case 141: print ('See also 139, 142.'); break;
	case 142: print ('See also 139, 141.'); break;
	case 144: print ('See also 145.'); break;
	case 145: print ('See also 144.'); break;
	case 147: print ('Also works with a tapestry.'); break;
	case 148: print ('Only when keeping Shift down constantly, even when walking to the tile edge, will the prince not drink the potion.'); break;
	case 152: print ('In fighting stance, the prince can push buttons through gates.'); break;
	case 153: print ('Use Shift, briefly wait, then go up.'); break;
	case 154: print ('Wait briefly before turning right.'); break;
	case 155: print ('Similar to 93.'); break;
	case 157: print ('Press left immediately after walking off the ledge.'); break;
	case 158: print ('See key presses <a target="_blank" href="https://www.youtube.com/watch?v=uOulGukcq5A">here</a>. See also 39, and <a href="https://www.youtube.com/watch?v=zdwVtp1nRIA&t=1426s">this</a>.'); break;
	case 159: print ('If timed right, also possible without pausing.'); break;
	case 160: print ('Guards can be moved across broken rooms.'); break;
	case 162: print ('Similar to 65.'); break;
	case 164: print ('Similar to 166. DOS only.'); break;
	case 166: print ('Similar to 164. SNES only. More information <a href="https://forum.princed.org/viewtopic.php?p=32939#p32939">here</a>.'); break;
	case 167: print ('Two more variations of trick 61.'); break;
	case 168: print ('Keep right arrow down, press down arrow.'); break;
	case 169: print ('SNES only. Keep x down.'); break;
	default: print ('<span class="italic">(self-explanatory)</span>'); break;
}
print ('
</span>
</div>
</li>
');
}

print ('
</ul>
<script>
$(function(){
$(\'#tricks\').anythingSlider({
	buildStartStop:false,
	resizeContents:false,
	hashTags:true,
	onSlideComplete : function(slider){
		window.location.hash = "#" + slider.$currentPage[0].id;
	},
	navigationFormatter : function(index, panel){
		var tricknr = parseInt (index)');
if (strcmp ($sPage, 'TricksPage2') == 0) { print (' + 40'); }
if (strcmp ($sPage, 'TricksPage3') == 0) { print (' + 80'); }
if (strcmp ($sPage, 'TricksPage4') == 0) { print (' + 120'); }
if (strcmp ($sPage, 'TricksPage5') == 0) { print (' + 160'); }
		print (';
		return (tricknr.toString());
	}
});

$(\'a.link\').click(function(){
	$(\'#tricks\').anythingSlider( $(this).attr(\'href\') );
	return false;
});
});
</script>
');
	} else if (strcmp ($sPage, 'TricksPoll') == 0) {
print ('
<h2>Call to Vote</h2>
<p><i>17 September 2020 (upd 30 Sep)</i></p>
<p>
Recently, the 150th <i>Prince of Persia</i> trick was discovered!
<br>
To celebrate this, let\'s find out which are the most-liked tricks, and why.
<br>
You are invited to submit your top 5 favorite tricks <i>before</i> November 1st, so no later than 31 October.
</p>
<p>
To partake, choose the five tricks you like most. Make sure to specify their trick-numbers as used on Popot.org. (See the links above, "1 - 40", "41 - 80", etc.) Put your picks in a top 5. Your favorite (#1) trick will count as 5 points, your second favorite (#2) as 4 points, and so on.
<br>
You are also required to provide your (nick)name. For instance your account name on the Princed forum or Twitter handle.
<br>
Optionally, for each trick you may provide an explanation why you like it.</p>
<p>The most-liked tricks will be revealed as a top 10 in mid-November.
<br>
<span style="color:#f00;">Note:</span> In November, every voter\'s top 5, (nick)name and optional explanation will also be published publicly on both Popot.org (this page) and Princed.org (forum).
</p>
<p>Send your top 5, (nick)name and optional explanation to: <a data-name="info" data-domain="popot" data-tld="org" href="#" class="cryptedmail" onclick="window.location.href = \'mailto:\' + this.dataset.name + \'@\' + this.dataset.domain + \'.\' + this.dataset.tld"></a>
<br>
Thank you for your participation!
</p>
');
	} else {
		/*** Defaults. ***/
		$arV['gate'] = 2;
		$arV['raise'] = 2;
		$arV['drop'] = 2;
		$arV['guard'] = 2;
		$arV['skeleton'] = 2;
		$arV['spikes'] = 2;
		$arV['sword'] = 2;
		$arV['potion'] = 2;
		$arV['mirror'] = 2;
		$arV['chomper'] = 2;
		$arV['loose'] = 2;

		/*** Results. ***/
		if (strtoupper ($_SERVER['REQUEST_METHOD']) === 'POST')
		{
			if (isset ($_POST['gate']))
				{ $arV['gate'] = intval ($_POST['gate']); }
			if (isset ($_POST['raise']))
				{ $arV['raise'] = intval ($_POST['raise']); }
			if (isset ($_POST['drop']))
				{ $arV['drop'] = intval ($_POST['drop']); }
			if (isset ($_POST['guard']))
				{ $arV['guard'] = intval ($_POST['guard']); }
			if (isset ($_POST['skeleton']))
				{ $arV['skeleton'] = intval ($_POST['skeleton']); }
			if (isset ($_POST['spikes']))
				{ $arV['spikes'] = intval ($_POST['spikes']); }
			if (isset ($_POST['sword']))
				{ $arV['sword'] = intval ($_POST['sword']); }
			if (isset ($_POST['potion']))
				{ $arV['potion'] = intval ($_POST['potion']); }
			if (isset ($_POST['mirror']))
				{ $arV['mirror'] = intval ($_POST['mirror']); }
			if (isset ($_POST['chomper']))
				{ $arV['chomper'] = intval ($_POST['chomper']); }
			if (isset ($_POST['loose']))
				{ $arV['loose'] = intval ($_POST['loose']); }

			print ('<div style="text-align:center;">');
			$xml = simplexml_load_file ('tricks.xml');
			if ($xml != FALSE)
			{
				$arHits = array();
				foreach ($xml as $key => $value)
				{
					$iHit = 1;
					foreach ($value as $key2 => $value2)
					{
						if ($arV[$key2] != 2)
							{ if ($arV[$key2] != intval ($value2)) { $iHit = 0; } }
					}
					if ($iHit == 1)
					{
						$arHits[] = $value['number'];
					}
				}
				$iMatches = count ($arHits);
				if ($iMatches == 1)
				{
					print ('<p>Found exactly one match.</p>');
				} else {
					print ('<p>There are ' . $iMatches . ' matches.</p>');
				}
				foreach ($arHits as $iHit)
				{
					print ('<a target="_blank" href="trick/' . $iHit .
						'">' . $iHit . '</a><br>');
				}
			} else {
				print ('<p>Could not load tricks.xml!</p>');
			}
			print ('</div>');
		}

		/*** Form. ***/
		print ('<div style="width:400px; max-width:100%; margin:20px auto; border:1px solid #bbb; padding:10px;">');
		print ('<form action="documentation.php?doc=TricksSearch" method="post">');
print ('
<p style="text-align:center;">
Which elements are used for the trick?
<br>
Use "any" where you don\'t know or care.
</p>
');
		TrickRadio ('gate', $arV['gate']);
		TrickRadio ('raise', $arV['raise']);
		TrickRadio ('drop', $arV['drop']);
		TrickRadio ('guard', $arV['guard']);
		TrickRadio ('skeleton', $arV['skeleton']);
		TrickRadio ('spikes', $arV['spikes']);
		TrickRadio ('sword', $arV['sword']);
		TrickRadio ('potion', $arV['potion']);
		TrickRadio ('mirror', $arV['mirror']);
		TrickRadio ('chomper', $arV['chomper']);
		TrickRadio ('loose', $arV['loose']);
		print ('<span style="display:block; width:100%; text-align:center; padding-top:10px; border-top:1px dashed #000;">');
		print ('<input type="submit" value="Search">' . "\n");
		print ('<input type="button" value="Clear" onclick="location=\'documentation.php?doc=TricksSearch\'">');
		print ('</span>');
		print ('</form>');
		print ('</div>');
	}
}
/*****************************************************************************/
function PoP1GuardTypes ()
/*****************************************************************************/
{
print ('
<p>
This document is licensed under the <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a> license.
<br>
Download PDF: <a href="documentation/documents/2016-08-08_PoP1_Guard_Types.pdf">2016-08-08_PoP1_Guard_Types.pdf</a> (62KB)
<br>
Download ODT: <a href="documentation/documents/2016-08-08_PoP1_Guard_Types.odt">2016-08-08_PoP1_Guard_Types.odt</a> (20KB)
<br>
The latest version was released on August 8th, 2016. Credits are inside the file.
</p>
<hr class="basic">
<p>
Old versions:
<br>
2015-08-06: <a href="documentation/documents/2015-08-06_PoP1_Guard_Types.pdf">pdf</a> (63KB), <a href="documentation/documents/2015-08-06_PoP1_Guard_Types.odt">odt</a> (47KB)
<br>
2012-11-16: <a href="documentation/documents/2012-11-16_PoP1_Guard_Types.pdf">pdf</a> (60KB), <a href="documentation/documents/2012-11-16_PoP1_Guard_Types.odt">odt</a> (27KB)
<br>
2012-11-14: <a href="documentation/documents/2012-11-14_PoP1_Guard_Types.pdf">pdf</a> (60KB), <a href="documentation/documents/2012-11-14_PoP1_Guard_Types.odt">odt</a> (25KB).
<br>
2012-11-13: <a href="documentation/documents/2012-11-13_PoP1_Guard_Types.pdf">pdf</a> (59KB), <a href="documentation/documents/2012-11-13_PoP1_Guard_Types.odt">odt</a> (23KB).
</p>
');
}
/*****************************************************************************/
function SNES_pass ()
/*****************************************************************************/
{
print ('
<p>
This information was provided by David.
<br>
See also the SNES <a href="other_useful_tools.php?tool=SNES_pass">Password Analyser</a>.
</p>
');
	include_once (dirname (__FILE__) . '/SNES_pass_info.php');
}
/*****************************************************************************/
function PoP1CopyProtection ()
/*****************************************************************************/
{
print ('
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2015-12-05_PoP1_Copy_Protection.pdf">2015-12-05_PoP1_Copy_Protection.pdf</a> (397KB)
<br>
Download ODT: <a href="documentation/documents/2015-12-05_PoP1_Copy_Protection.odt">2015-12-05_PoP1_Copy_Protection.odt</a> (74KB)
<br>
The latest version was released on December 5th, 2015. Credits are inside the file.
</p>
<hr class="basic">
<p>
Old version:
<br>
2013-08-04: <a href="documentation/documents/2013-08-04_PoP1_Copy_Protection.pdf">PDF</a> (392KB), <a href="documentation/documents/2013-08-04_PoP1_Copy_Protection.odt">ODT</a> (69KB)
</p>
');
}
/*****************************************************************************/
function PoP1_XML_Format ()
/*****************************************************************************/
{
print ('
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2014-08-08_PoP1_XML_Format.pdf">2014-08-08_PoP1_XML_Format.pdf</a> (383KB)
<br>
Download ODT: <a href="documentation/documents/2014-08-08_PoP1_XML_Format.odt">2014-08-08_PoP1_XML_Format.odt</a> (33KB)
<br>
The latest version was released on August 8th, 2014.
</p>
<p>Level editor <a href="level_editors.php?editor=apoplexy">apoplexy</a> can export XML with -x (and --xml) and import XML with -y (and --import).</p>
<hr class="basic">
<p>
Old versions:
<br>
- 2014-07-30: <a href="documentation/documents/2014-07-30_PoP1_XML_Format.pdf">PDF</a> (383KB), <a href="documentation/documents/2014-07-30_PoP1_XML_Format.odt">ODT</a> (33KB)
<br>
- 2014-07-29: <a href="documentation/documents/2014-07-29_PoP1_XML_Format.pdf">PDF</a> (382KB), <a href="documentation/documents/2014-07-29_PoP1_XML_Format.odt">ODT</a> (33KB)
</p>
');
}
/*****************************************************************************/
function PoP_Easter_Eggs ()
/*****************************************************************************/
{
print ('
<p>PoP for Apple II has several Easter eggs.</p>
<p>
This document is licensed under the <a target="_blank" href="https://www.gnu.org/licenses/fdl-1.3.html">GFDL 1.3</a> (or later) license.
<br>
Download PDF: <a href="documentation/documents/2018-04-01_PoP_Easter_Eggs.pdf">2018-04-01_PoP_Easter_Eggs.pdf</a> (1.2M)
<br>
Download ODT: <a href="documentation/documents/2018-04-01_PoP_Easter_Eggs.odt">2018-04-01_PoP_Easter_Eggs.odt</a> (578K)
<br>
The latest version was released on April 1st, 2018. Credits are inside the file.
</p>
');
}
/*****************************************************************************/
function Documentation ()
/*****************************************************************************/
{
print ('
<p>There is a <a href="documentation.php?doc=Video">video</a> about Prince of Persia modding.</p>
<p>Special events for <a href="documentation.php?doc=PoP1SpecialEvents">PoP1 for DOS</a>, <a href="documentation.php?doc=PoP2SpecialEvents">PoP2 for DOS</a>, and <a href="documentation.php?doc=PoP1SSpecialEvents">PoP1 for SNES</a>.</p>
<p>Developers are advised to read the <a href="documentation.php?doc=FormatSpecifications">Specifications of File Formats</a>.</p>
<p>Some of you may be wondering how to <a href="documentation.php?doc=ChangingPoP1Images">change PoP1 images</a>.</p>
<p>There are also <a href="documentation.php?doc=OldDocuments">old documents</a> by Mechner from 1989 and 1991.</p>
<p>An <a href="documentation.php?doc=POPKod">old Hungarian document</a> about LEVELS.DAT.</p>
<p>The <a href="documentation.php?doc=OverflowBug">overflow bug</a> allows players to skip certain rooms.</p>
<p>Information about the <a href="documentation.php?doc=RoT_Visual_Tricks">visual tricks</a> of <span class="italic">Repetition of Time</span>.</p>
<p>Differences between <a href="documentation.php?doc=PoP1_DAT_Differences">PoP1 DAT files</a> (1.0, 1.3, 1.4), <a href="documentation.php?doc=PoP2_DAT_Differences">PoP2 DAT files</a> (IR, 1.0, 1.1), and <a href="documentation.php?doc=PoP1_for_SNES_Regional_Differences">PoP1 for SNES regional differences</a> (JP, US/EU).</p>
<p>Check out all the <a href="documentation.php?doc=Tricks">PoP1 Tricks</a>.</p>
<p>There is information available about <a href="documentation.php?doc=PoP1GuardTypes">PoP1 Guard Types</a>.</p>
<p>See also the page about <a href="documentation.php?doc=SNES_pass">SNES Passwords</a>.</p>
<p>Potion to drink in the <a href="documentation.php?doc=PoP1CopyProtection">PoP1 Copy Protection</a> level.</p>
<p>Some programs export and/or import levels using the <a href="documentation.php?doc=PoP1_XML_Format">PoP1 XML Format</a>.</p>
<p>PoP for Apple II has several <a href="documentation.php?doc=PoP_Easter_Eggs">Easter eggs</a>.</p>
<h2 id="Walkthroughs" class="anchor">Walkthroughs</h2>
<p><span class="italic">Prince of Persia 1</span> <a href="walkthroughs.php?show=0000001_000_001"><img src="images/play_button.png" style="vertical-align:middle;" alt="play"> Video</a> (Author: htamas)</p>
<p><span class="italic">Prince of Persia 1</span> <a target="_blank" href="walkthroughs/documents/2004-07-07_PoP1_FAQ_v1_6.txt">FAQ/Walkthrough</a> (Author: Eizaz Azhar; he gave us <a target="_blank" href="walkthroughs/documents/permission.txt">permission</a> to post this)</p>
');
}
/*****************************************************************************/

if (isset ($_GET['doc']))
{
	$sDoc = $_GET['doc'];
	switch ($sDoc)
	{
		case 'Video':
			StartHTML ('Documentation', 'Prince of Persia Modding',
				'documentation.php', 'Learn');
			Video(); break;
		case 'PoP1SpecialEvents':
			StartHTML ('Documentation', 'PoP1 Special Events',
				'documentation.php', 'Learn');
			PoP1SpecialEvents(); break;
		case 'PoP2SpecialEvents':
			StartHTML ('Documentation', 'PoP2 Special Events',
				'documentation.php', 'Learn');
			PoP2SpecialEvents(); break;
		case 'PoP1SSpecialEvents':
			StartHTML ('Documentation', 'PoP1 for SNES Special Events',
				'documentation.php', 'Learn');
			PoP1SSpecialEvents(); break;
		case 'Wine_vd':
			StartHTML ('Documentation', 'Wine Virtual Desktop',
				'documentation.php', 'Learn');
			Wine_vd(); break;
		case 'FormatSpecifications':
			StartHTML ('Documentation', 'Specifications of File Formats',
				'documentation.php', 'Learn');
			FormatSpecifications(); break;
		case 'ChangingPoP1Images':
			StartHTML ('Documentation', 'Changing PoP1 Images',
				'documentation.php', 'Learn');
			ChangingPoP1Images(); break;
		case 'OldDocuments':
			StartHTML ('Documentation', 'Old Documents',
				'documentation.php', 'Learn');
			OldDocuments(); break;
		case 'POPKod':
			StartHTML ('Documentation',
				'Prince Of Persia k&oacute;dfejt&eacute;s',
				'documentation.php', 'Learn');
			POPKod(); break;
		case 'OverflowBug':
			StartHTML ('Documentation', 'Overflow Bug',
				'documentation.php', 'Learn');
			OverflowBug(); break;
		case 'RoT_Visual_Tricks':
			StartHTML ('Documentation', 'Visual Tricks of RoT',
				'documentation.php', 'Learn');
			RoT_Visual_Tricks(); break;
		case 'PoP1_DAT_Differences':
			StartHTML ('Documentation', 'PoP1 DAT Differences',
				'documentation.php', 'Learn');
			PoP1_DAT_Differences(); break;
		case 'PoP2_DAT_Differences':
			StartHTML ('Documentation', 'PoP2 DAT Differences',
				'documentation.php', 'Learn');
			PoP2_DAT_Differences(); break;
		case 'PoP1_for_SNES_Regional_Differences':
			StartHTML ('Documentation', 'PoP1 for SNES Regional Differences',
				'documentation.php', 'Learn');
			PoP1_for_SNES_Regional_Differences(); break;
		case 'Tricks':
			StartHTML ('Documentation', 'PoP1 Tricks (Page 1)',
				'documentation.php', 'Learn');
			Tricks ('Tricks'); break;
		case 'TricksPage2':
			StartHTML ('Documentation', 'PoP1 Tricks (Page 2)',
				'documentation.php', 'Learn');
			Tricks ('TricksPage2'); break;
		case 'TricksPage3':
			StartHTML ('Documentation', 'PoP1 Tricks (Page 3)',
				'documentation.php', 'Learn');
			Tricks ('TricksPage3'); break;
		case 'TricksPage4':
			StartHTML ('Documentation', 'PoP1 Tricks (Page 4)',
				'documentation.php', 'Learn');
			Tricks ('TricksPage4'); break;
		case 'TricksPage5':
			StartHTML ('Documentation', 'PoP1 Tricks (Page 5)',
				'documentation.php', 'Learn');
			Tricks ('TricksPage5'); break;
		case 'TricksSearch':
			StartHTML ('Documentation', 'PoP1 Tricks (Search)',
				'documentation.php', 'Learn');
			Tricks ('TricksSearch'); break;
		case 'TricksPoll':
			StartHTML ('Documentation', 'PoP1 Tricks (Poll)',
				'documentation.php', 'Learn');
			Tricks ('TricksPoll'); break;
		case 'PoP1GuardTypes':
			StartHTML ('Documentation', 'PoP1 Guard Types',
				'documentation.php', 'Learn');
			PoP1GuardTypes(); break;
		case 'SNES_pass':
			StartHTML ('Documentation', 'SNES Passwords',
				'documentation.php', 'Learn');
			SNES_pass(); break;
		case 'PoP1CopyProtection':
			StartHTML ('Documentation', 'PoP1 Copy Protection',
				'documentation.php', 'Learn');
			PoP1CopyProtection(); break;
		case 'PoP1_XML_Format':
			StartHTML ('Documentation', 'PoP1 XML Format',
				'documentation.php', 'Learn');
			PoP1_XML_Format(); break;
		case 'PoP_Easter_Eggs':
			StartHTML ('Documentation', 'PoP Easter Eggs',
				'documentation.php', 'Learn');
			PoP_Easter_Eggs(); break;
		default:
			StartHTML ('Documentation', '404 Not Found',
				'documentation.php', 'Learn');
			print ('<p>Unknown document ("' . Sanitize ($sDoc) .
				'").</p>'); break;
	}
} else {
	StartHTML ('Documentation', '', '', 'Learn');
	Documentation();
}

EndHTML();
?>
